<HTML>
<HEAD>
<meta charset="UTF-8">
<title>WithDriverNodesIT.<init> - corbeans</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">corbeans</a>&nbsp;/&nbsp;<a href="../index.html">com.github.manosbatsis.corbeans.test.integration</a>&nbsp;/&nbsp;<a href="index.html">WithDriverNodesIT</a>&nbsp;/&nbsp;<a href="./-init-.html">&lt;init&gt;</a><br/>
<br/>
<h1>&lt;init&gt;</h1>
<a name="com.github.manosbatsis.corbeans.test.integration.WithDriverNodesIT$&lt;init&gt;()"></a>
<code><span class="identifier">WithDriverNodesIT</span><span class="symbol">(</span><span class="symbol">)</span></code>
<p>Provides Corda (driver) network per <a href="with-driver-nodes.html">withDriverNodes</a> call, using the corbeans'
config from <code>application.properties</code>. You may override the latter with an
additional file in your test classpath, i.e. <code>src/test/resources/application.properties</code>.</p>
<p>Sample:</p>
<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@ExtendWith(SpringExtension::class)
class MyWithDriverNodesIntegrationTest : WithDriverNodesIT() {

     // tell the driver which cordapp packages to load
     override fun getCordappPackages(): List&lt;String&gt; = listOf("net.corda.finance")

     @Test
     fun `Can create services`() {
         withDriverNodes {
             assertNotNull(this.services)
             assertTrue(this.services.keys.isNotEmpty())
         }
     }

     @Test
     fun `Can retrieve node identity`() {
         withDriverNodes {
             assertNotNull(services["partyANodeService"]?.myIdentity)
         }
     }

     @Test
     fun `Can retrieve notaries`() {
         withDriverNodes {
             assertNotNull(services["partyANodeService"]?.notaries())
         }
     }
}
</code></pre>
</BODY>
</HTML>
